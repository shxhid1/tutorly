
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Temporarily disable all auth checks
    function isAuthenticated() {
      return true; // ðŸ‘ˆ allow all
    }

    function isOwner(userId) {
      return true; // ðŸ‘ˆ allow any user to act as owner
    }

    function isAdmin() {
      return true; // ðŸ‘ˆ treat all users as admins
    }

    function isValidResource(resource) {
      return resource.size() < 10 * 1024 * 1024;
    }

    // Users collection
    match /users/{userId} {
      allow get, create, update, delete, list: if true;
    }

    // Summaries collection
    match /summaries/{summaryId} {
      allow read, create, update, delete: if true;
    }

    // Notes collection
    match /notes/{noteId} {
      allow read, create, update, delete: if true;
    }

    // Resources collection
    match /resources/{resourceId} {
      allow read, create, update, delete: if true;
    }

    // Catch-all for all other documents
    match /{document=**} {
      allow read, write: if true;
    }
  }
}

